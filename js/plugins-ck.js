jQuery.cachedScript=function(a,b){b=$.extend(b||{},{dataType:"script",cache:!0,url:a});return jQuery.ajax(b)};(function(a){var b={bgColor:"#000000",bgOpacity:.85,load:[],fadeOutSpeed:"fast",count:0,loaded:0,step:function(){},complete:function(){}},c={init:function(d){d&&a.extend(b,d);if(!a.isArray(b.load))return a.error("Options must have at least load contents array on jQuery.preLoadGUI().");b.count=b.load.length;c.show(b.load)},show:function(d){for(var e in d)if(a.isArray(d[e])){switch(d[e][1]){case"js":a.getScript(d[e][0],function(){c.show(d)});break;case"img":a("<img />").css({visibility:"hidden"}).attr("src",d[e][0]).load(function(){c.show(d)});break;case"css":a("<style></style>").attr({type:"text/css"}).load(d[e][0],function(){a(this).appendTo("head");c.show(d)});break;case"html":a("<div></div>").attr("rel",d[e][2]).load(d[e][0],function(){a(a(this).attr("rel")).append(a(this).html());c.show(d)});break;case"run":a.getScript(d[e][0],function(){c.show(d)});break;default:delete d[e];c.show(d);return}c.update(d[e][0]);delete d[e];return}b.complete()},update:function(a){b.loaded+=1;var c=b.loaded/b.count*100;b.step(c)}};a.preLoadGUI=function(b){if(typeof b=="object")return c.init(b);a.error("Options must have at least load contents array on jQuery.preLoadGUI().")}})(jQuery);CAAT={};CAAT.AudioManager={browserInfo:null,musicEnabled:!0,fxEnabled:!0,audioCache:null,channels:null,workingChannels:null,loopingChannels:[],audioTypes:{mp3:"audio/mpeg;",ogg:'audio/ogg; codecs="vorbis"',wav:'audio/wav; codecs="1"',mp4:'audio/mp4; codecs="mp4a.40.2"'},initialize:function(a){this.audioCache=[];this.channels=[];this.workingChannels=[];for(var b=0;b<a;b++){var c=document.createElement("audio");if(null!==c){c.finished=-1;this.channels.push(c);var d=this;c.addEventListener("ended",function(a){var b=a.target,c;for(c=0;c<d.workingChannels.length;c++)if(d.workingChannels[c]===b){d.workingChannels.splice(c,1);break}b.caat_callback&&b.caat_callback(b.caat_id);d.channels.push(b)},!1)}}return this},addAudioFromURL:function(a,b,c){var d=null,e=document.createElement("audio");if(null!==e){if(!e.canPlayType)return!1;d=b.substr(b.lastIndexOf(".")+1);var f=e.canPlayType(this.audioTypes[d]);if(f!==""&&f!=="no"){e.src=b;e.preload="auto";e.load();if(c){e.caat_callback=c;e.caat_id=a}this.audioCache.push({id:a,audio:e});return!0}}return!1},addAudioFromDomNode:function(a,b,c){var d=b.src.substr(b.src.lastIndexOf(".")+1);if(b.canPlayType(this.audioTypes[d])){if(c){b.caat_callback=c;b.caat_id=a}this.audioCache.push({id:a,audio:b});return!0}return!1},addAudioElement:function(a,b,c){if(typeof b=="string")return this.addAudioFromURL(a,b,c);try{if(b instanceof HTMLAudioElement)return this.addAudioFromDomNode(a,b,c)}catch(d){}return!1},addAudio:function(a,b,c){if(b instanceof Array){for(var d=0;d<b.length;d++)if(this.addAudioElement(a,b[d],c))break}else this.addAudioElement(a,b,c);return this},getAudio:function(a){for(var b=0;b<this.audioCache.length;b++)if(this.audioCache[b].id===a)return this.audioCache[b].audio;return null},play:function(a){if(!this.fxEnabled)return this;var b=this.getAudio(a);if(null!==b&&this.channels.length>0){var c=this.channels.shift();c.src=b.src;c.load();c.play();this.workingChannels.push(c)}return this},loop:function(a){if(!this.musicEnabled)return this;var b=this.getAudio(a);if(null!==b){var c=document.createElement("audio");if(null!==c){c.src=b.src;c.preload="auto";this.browserInfo.browser==="Firefox"?c.addEventListener("ended",function(a){var b=a.target;b.currentTime=0},!1):c.loop=!0;c.load();c.play();this.loopingChannels.push(c);return c}}return null},endSound:function(){var a;for(a=0;a<this.workingChannels.length;a++){this.workingChannels[a].pause();this.channels.push(this.workingChannels[a])}for(a=0;a<this.loopingChannels.length;a++)this.loopingChannels[a].pause();return this},setSoundEffectsEnabled:function(a){this.fxEnabled=a;return this},isSoundEffectsEnabled:function(){return this.fxEnabled},setMusicEnabled:function(a){this.musicEnabled=a;for(var b=0;b<this.loopingChannels.length;b++)a?this.loopingChannels[b].play():this.loopingChannels[b].pause();return this},isMusicEnabled:function(){return this.musicEnabled}};(function(a,b,c,d){function j(a){return parseFloat(a)}function k(){var a={transformProperty:"",MozTransform:"-moz-",WebkitTransform:"-webkit-",OTransform:"-o-",msTransform:"-ms-"};for(var b in a)if(typeof i[b]!="undefined")return a[b];return null}function l(){if(typeof b.Modernizr!="undefined")return Modernizr.csstransforms;var a=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var c in a)if(i[a[c]]!==d)return!0}function p(b,c){var d=f.exec(a.trim(c));if(d[3]&&d[3]!=="px"){var e="paddingBottom",g=a.style(b,e);a.style(b,e,c);c=q(b,e);a.style(b,e,g);return c}return parseFloat(c)}function q(b,c){if(b[c]==null||!!b.style&&b.style[c]!=null){var d=parseFloat(a.css(b,c));return d&&d>-1e4?d:0}return b[c]}var e=/progid:DXImageTransform\.Microsoft\.Matrix\(.*?\)/,f=/^([\+\-]=)?([\d+.\-]+)(.*)$/,g=/%/,h=c.createElement("modernizr"),i=h.style,m=k(),n=m!==null?m+"transform":!1,o=m!==null?m+"transform-origin":!1;a.support.csstransforms=l();if(m=="-ms-"){n="msTransform";o="msTransformOrigin"}a.extend({transform:function(b){b.transform=this;this.$elem=a(b);this.applyingMatrix=!1;this.matrix=null;this.height=null;this.width=null;this.outerHeight=null;this.outerWidth=null;this.boxSizingValue=null;this.boxSizingProperty=null;this.attr=null;this.transformProperty=n;this.transformOriginProperty=o}});a.extend(a.transform,{funcs:["matrix","origin","reflect","reflectX","reflectXY","reflectY","rotate","scale","scaleX","scaleY","skew","skewX","skewY","translate","translateX","translateY"]});a.fn.transform=function(b,c){return this.each(function(){var d=this.transform||new a.transform(this);b&&d.exec(b,c)})};a.transform.prototype={exec:function(b,c){c=a.extend(!0,{forceMatrix:!1,preserve:!1},c);this.attr=null;c.preserve?b=a.extend(!0,this.getAttrs(!0,!0),b):b=a.extend(!0,{},b);this.setAttrs(b);return a.support.csstransforms&&!c.forceMatrix?this.execFuncs(b):a.browser.msie||a.support.csstransforms&&c.forceMatrix?this.execMatrix(b):!1},execFuncs:function(b){var c=[];for(var d in b)d=="origin"?this[d].apply(this,a.isArray(b[d])?b[d]:[b[d]]):a.inArray(d,a.transform.funcs)!==-1&&c.push(this.createTransformFunc(d,b[d]));this.$elem.css(n,c.join(" "));return!0},execMatrix:function(b){function k(a,b){return g.test(a)?parseFloat(a)/100*i["safeOuter"+(b?"Height":"Width")]():p(h,a)}var c,d,f,h=this.$elem[0],i=this,l=/translate[X|Y]?/,o=[];for(var q in b){switch(a.type(b[q])){case"array":f=b[q];break;case"string":f=a.map(b[q].split(","),a.trim);break;default:f=[b[q]]}if(a.matrix[q]){a.cssAngle[q]?f=a.map(f,a.angle.toDegree):a.cssNumber[q]?f=a.map(f,j):f=a.map(f,k);d=a.matrix[q].apply(this,f);l.test(q)?o.push(d):c=c?c.x(d):d}else q=="origin"&&this[q].apply(this,f)}c=c||a.matrix.identity();a.each(o,function(a,b){c=c.x(b)});var r=parseFloat(c.e(1,1).toFixed(6)),s=parseFloat(c.e(2,1).toFixed(6)),t=parseFloat(c.e(1,2).toFixed(6)),u=parseFloat(c.e(2,2).toFixed(6)),v=c.rows===3?parseFloat(c.e(1,3).toFixed(6)):0,w=c.rows===3?parseFloat(c.e(2,3).toFixed(6)):0;if(a.support.csstransforms&&m==="-moz-")this.$elem.css(n,"matrix("+r+", "+s+", "+t+", "+u+", "+v+"px, "+w+"px)");else if(a.support.csstransforms)this.$elem.css(n,"matrix("+r+", "+s+", "+t+", "+u+", "+v+", "+w+")");else if(a.browser.msie){var x=", FilterType='nearest neighbor'",y=this.$elem[0].style,z="progid:DXImageTransform.Microsoft.Matrix(M11="+r+", M12="+t+", M21="+s+", M22="+u+", sizingMethod='auto expand'"+x+")",A=y.filter||a.curCSS(this.$elem[0],"filter")||"";y.filter=e.test(A)?A.replace(e,z):A?A+" "+z:z;this.applyingMatrix=!0;this.matrix=c;this.fixPosition(c,v,w);this.applyingMatrix=!1;this.matrix=null}return!0},origin:function(b,c){if(a.support.csstransforms){typeof c=="undefined"?this.$elem.css(o,b):this.$elem.css(o,b+" "+c);return!0}switch(b){case"left":b="0";break;case"right":b="100%";break;case"center":case d:b="50%"}switch(c){case"top":c="0";break;case"bottom":c="100%";break;case"center":case d:c="50%"}this.setAttr("origin",[g.test(b)?b:p(this.$elem[0],b)+"px",g.test(c)?c:p(this.$elem[0],c)+"px"]);return!0},createTransformFunc:function(b,c){if(b.substr(0,7)==="reflect"){var d=c?a.matrix[b]():a.matrix.identity();return"matrix("+d.e(1,1)+", "+d.e(2,1)+", "+d.e(1,2)+", "+d.e(2,2)+", 0, 0)"}if(b=="matrix"&&m==="-moz-"){c[4]=c[4]?c[4]+"px":0;c[5]=c[5]?c[5]+"px":0}return b+"("+(a.isArray(c)?c.join(", "):c)+")"},fixPosition:function(b,c,d,e,f){var h=new a.matrix.calc(b,this.safeOuterHeight(),this.safeOuterWidth()),i=this.getAttr("origin"),j=h.originOffset(new a.matrix.V2(g.test(i[0])?parseFloat(i[0])/100*h.outerWidth:parseFloat(i[0]),g.test(i[1])?parseFloat(i[1])/100*h.outerHeight:parseFloat(i[1]))),k=h.sides(),l=this.$elem.css("position");l=="static"&&(l="relative");var m={top:0,left:0},n={position:l,top:j.top+d+k.top+m.top+"px",left:j.left+c+k.left+m.left+"px",zoom:1};this.$elem.css(n)}}})(jQuery,this,this.document);(function(a,b,c,d){function f(){if(e)return e;var a={boxSizing:"box-sizing",MozBoxSizing:"-moz-box-sizing",WebkitBoxSizing:"-webkit-box-sizing",OBoxSizing:"-o-box-sizing"},b=c.body;for(var d in a)if(typeof b.style[d]!="undefined"){e=a[d];return e}return null}a.extend(a.transform.prototype,{safeOuterHeight:function(){return this.safeOuterLength("height")},safeOuterWidth:function(){return this.safeOuterLength("width")},safeOuterLength:function(b){var c="outer"+(b=="width"?"Width":"Height");if(!a.support.csstransforms&&a.browser.msie){b=b=="width"?"width":"height";if(this.applyingMatrix&&!this[c]&&this.matrix){var d=new a.matrix.calc(this.matrix,1,1),e=d.offset(),g=this.$elem[c]()/e[b];this[c]=g;return g}if(this.applyingMatrix&&this[c])return this[c];var h={height:["top","bottom"],width:["left","right"]},i=this.$elem[0],j=parseFloat(a.curCSS(i,b,!0)),k=this.boxSizingProperty,l=this.boxSizingValue;if(!this.boxSizingProperty){k=this.boxSizingProperty=f()||"box-sizing";l=this.boxSizingValue=this.$elem.css(k)||"content-box"}if(this[c]&&this[b]==j)return this[c];this[b]=j;k&&(l=="padding-box"||l=="content-box")&&(j+=parseFloat(a.curCSS(i,"padding-"+h[b][0],!0))||0+parseFloat(a.curCSS(i,"padding-"+h[b][1],!0))||0);k&&l=="content-box"&&(j+=parseFloat(a.curCSS(i,"border-"+h[b][0]+"-width",!0))||0+parseFloat(a.curCSS(i,"border-"+h[b][1]+"-width",!0))||0);this[c]=j;return j}return this.$elem[c]()}});var e=null})(jQuery,this,this.document);(function(a,b,c,d){var e=/([\w\-]*?)\((.*?)\)/g,f="data-transform",g=/\s/,h=/,\s?/;a.extend(a.transform.prototype,{setAttrs:function(b){var c="",d;for(var e in b){d=b[e];a.isArray(d)&&(d=d.join(", "));c+=" "+e+"("+d+")"}this.attr=a.trim(c);this.$elem.attr(f,this.attr)},setAttr:function(b,c){a.isArray(c)&&(c=c.join(", "));var d=this.attr||this.$elem.attr(f);if(!d||d.indexOf(b)==-1){this.attr=a.trim(d+" "+b+"("+c+")");this.$elem.attr(f,this.attr)}else{var g=[],h;e.lastIndex=0;while(h=e.exec(d))b==h[1]?g.push(b+"("+c+")"):g.push(h[0]);this.attr=g.join(" ");this.$elem.attr(f,this.attr)}},getAttrs:function(){var a=this.attr||this.$elem.attr(f);if(!a)return{};var b={},c,d;e.lastIndex=0;while((c=e.exec(a))!==null)if(c){d=c[2].split(h);b[c[1]]=d.length==1?d[0]:d}return b},getAttr:function(b){var c=this.getAttrs();return typeof c[b]!="undefined"?c[b]:b==="origin"&&a.support.csstransforms?this.$elem.css(this.transformOriginProperty).split(g):b==="origin"?["50%","50%"]:a.cssDefault[b]||0}});typeof a.cssAngle=="undefined"&&(a.cssAngle={});a.extend(a.cssAngle,{rotate:!0,skew:!0,skewX:!0,skewY:!0});typeof a.cssDefault=="undefined"&&(a.cssDefault={});a.extend(a.cssDefault,{scale:[1,1],scaleX:1,scaleY:1,matrix:[1,0,0,1,0,0],origin:["50%","50%"],reflect:[1,0,0,1,0,0],reflectX:[1,0,0,1,0,0],reflectXY:[1,0,0,1,0,0],reflectY:[1,0,0,1,0,0]});typeof a.cssMultipleValues=="undefined"&&(a.cssMultipleValues={});a.extend(a.cssMultipleValues,{matrix:6,origin:{length:2,duplicate:!0},reflect:6,reflectX:6,reflectXY:6,reflectY:6,scale:{length:2,duplicate:!0},skew:2,translate:2});a.extend(a.cssNumber,{matrix:!0,reflect:!0,reflectX:!0,reflectXY:!0,reflectY:!0,scale:!0,scaleX:!0,scaleY:!0});a.each(a.transform.funcs,function(b,c){a.cssHooks[c]={set:function(b,d){var e=b.transform||new a.transform(b),f={};f[c]=d;e.exec(f,{preserve:!0})},get:function(b,d){var e=b.transform||new a.transform(b);return e.getAttr(c)}}});a.each(["reflect","reflectX","reflectXY","reflectY"],function(b,c){a.cssHooks[c].get=function(b,d){var e=b.transform||new a.transform(b);return e.getAttr("matrix")||a.cssDefault[c]}})})(jQuery,this,this.document);(function(a,b,c,d){function h(b,c){b[c]==null||!!b.style&&b.style[c]!=null;var d=parseFloat(a.css(b,c));return d&&d>-1e4?d:0}var e=/^([+\-]=)?([\d+.\-]+)(.*)$/,f=a.fn.animate;a.fn.animate=function(b,c,d,e){var g=a.speed(c,d,e),h=a.cssMultipleValues;g.complete=g.old;if(!a.isEmptyObject(b)){typeof g.original=="undefined"&&(g.original={});a.each(b,function(c,d){if(h[c]||a.cssAngle[c]||!a.cssNumber[c]&&a.inArray(c,a.transform.funcs)!==-1){var e=null;if(jQuery.isArray(b[c])){var f=1,i=d.length;h[c]&&(f=typeof h[c].length=="undefined"?h[c]:h[c].length);if(i>f||i<f&&i==2||i==2&&f==2&&isNaN(parseFloat(d[i-1]))){e=d[i-1];d.splice(i-1,1)}}g.original[c]=d.toString();b[c]=parseFloat(d)}})}return f.apply(this,[arguments[0],g])};var g="paddingBottom",i=a.fx.prototype.custom;a.fx.prototype.custom=function(b,c,d){var f=a.cssMultipleValues[this.prop],j=a.cssAngle[this.prop];if(f||!a.cssNumber[this.prop]&&a.inArray(this.prop,a.transform.funcs)!==-1){this.values=[];f||(f=1);var k=this.options.original[this.prop],l=a(this.elem).css(this.prop),m=a.cssDefault[this.prop]||0;a.isArray(l)||(l=[l]);a.isArray(k)||(a.type(k)==="string"?k=k.split(","):k=[k]);var n=f.length||f,o=0;while(k.length<n){k.push(f.duplicate?k[0]:m[o]||0);o++}var p,q,r,s=this,t=s.elem.transform;orig=a.style(s.elem,g);a.each(k,function(b,c){l[b]?p=l[b]:m[b]&&!f.duplicate?p=m[b]:f.duplicate?p=l[0]:p=0;if(j)p=a.angle.toDegree(p);else if(!a.cssNumber[s.prop]){q=e.exec(a.trim(p));if(q[3]&&q[3]!=="px")if(q[3]==="%")p=parseFloat(q[2])/100*t["safeOuter"+(b?"Height":"Width")]();else{a.style(s.elem,g,p);p=h(s.elem,g);a.style(s.elem,g,orig)}}p=parseFloat(p);q=e.exec(a.trim(c));if(q){r=parseFloat(q[2]);d=q[3]||"px";if(j){r=a.angle.toDegree(r+d);d="deg"}else if(!a.cssNumber[s.prop]&&d==="%")p=p/t["safeOuter"+(b?"Height":"Width")]()*100;else if(!a.cssNumber[s.prop]&&d!=="px"){a.style(s.elem,g,(r||1)+d);p=(r||1)/h(s.elem,g)*p;a.style(s.elem,g,orig)}q[1]&&(r=(q[1]==="-="?-1:1)*r+p)}else{r=c;d=""}s.values.push({start:p,end:r,unit:d})})}return i.apply(this,arguments)};a.fx.multipleValueStep={_default:function(b){a.each(b.values,function(a,c){b.values[a].now=c.start+(c.end-c.start)*b.pos})}};a.each(["matrix","reflect","reflectX","reflectXY","reflectY"],function(b,c){a.fx.multipleValueStep[c]=function(b){var c=b.decomposed,d=a.matrix;m=d.identity();c.now={};a.each(c.start,function(a){c.now[a]=parseFloat(c.start[a])+(parseFloat(c.end[a])-parseFloat(c.start[a]))*b.pos;if((a==="scaleX"||a==="scaleY")&&c.now[a]===1||a!=="scaleX"&&a!=="scaleY"&&c.now[a]===0)return!0;m=m.x(d[a](c.now[a]))});var e;a.each(b.values,function(a){switch(a){case 0:e=parseFloat(m.e(1,1).toFixed(6));break;case 1:e=parseFloat(m.e(2,1).toFixed(6));break;case 2:e=parseFloat(m.e(1,2).toFixed(6));break;case 3:e=parseFloat(m.e(2,2).toFixed(6));break;case 4:e=parseFloat(m.e(1,3).toFixed(6));break;case 5:e=parseFloat(m.e(2,3).toFixed(6))}b.values[a].now=e})}});a.each(a.transform.funcs,function(b,c){a.fx.step[c]=function(b){var d=b.elem.transform||new a.transform(b.elem),e={};if(a.cssMultipleValues[c]||!a.cssNumber[c]&&a.inArray(c,a.transform.funcs)!==-1){(a.fx.multipleValueStep[b.prop]||a.fx.multipleValueStep._default)(b);e[b.prop]=[];a.each(b.values,function(c,d){e[b.prop].push(d.now+(a.cssNumber[b.prop]?"":d.unit))})}else e[b.prop]=b.now+(a.cssNumber[b.prop]?"":b.unit);d.exec(e,{preserve:!0})}});a.each(["matrix","reflect","reflectX","reflectXY","reflectY"],function(b,c){a.fx.step[c]=function(b){var d=b.elem.transform||new a.transform(b.elem),e={};if(!b.initialized){b.initialized=!0;if(c!=="matrix"){var f=a.matrix[c]().elements,g;a.each(b.values,function(a){switch(a){case 0:g=f[0];break;case 1:g=f[2];break;case 2:g=f[1];break;case 3:g=f[3];break;default:g=0}b.values[a].end=g})}b.decomposed={};var h=b.values;b.decomposed.start=a.matrix.matrix(h[0].start,h[1].start,h[2].start,h[3].start,h[4].start,h[5].start).decompose();b.decomposed.end=a.matrix.matrix(h[0].end,h[1].end,h[2].end,h[3].end,h[4].end,h[5].end).decompose()}(a.fx.multipleValueStep[b.prop]||a.fx.multipleValueStep._default)(b);e.matrix=[];a.each(b.values,function(a,b){e.matrix.push(b.now)});d.exec(e,{preserve:!0})}})})(jQuery,this,this.document);(function(a,b,c,d){var e=180/Math.PI,f=200/Math.PI,g=Math.PI/180,h=2/1.8,i=.9,j=Math.PI/200,k=/^([+\-]=)?([\d+.\-]+)(.*)$/;a.extend({angle:{runit:/(deg|g?rad)/,radianToDegree:function(a){return a*e},radianToGrad:function(a){return a*f},degreeToRadian:function(a){return a*g},degreeToGrad:function(a){return a*h},gradToDegree:function(a){return a*i},gradToRadian:function(a){return a*j},toDegree:function(b){var c=k.exec(b);if(c){b=parseFloat(c[2]);switch(c[3]||"deg"){case"grad":b=a.angle.gradToDegree(b);break;case"rad":b=a.angle.radianToDegree(b)}return b}return 0}}})})(jQuery,this,this.document);(function(a,b,c,d){typeof a.matrix=="undefined"&&a.extend({matrix:{}});var e=a.matrix;a.extend(e,{V2:function(b,c){a.isArray(arguments[0])?this.elements=arguments[0].slice(0,2):this.elements=[b,c];this.length=2},V3:function(b,c,d){a.isArray(arguments[0])?this.elements=arguments[0].slice(0,3):this.elements=[b,c,d];this.length=3},M2x2:function(b,c,d,e){a.isArray(arguments[0])?this.elements=arguments[0].slice(0,4):this.elements=Array.prototype.slice.call(arguments).slice(0,4);this.rows=2;this.cols=2},M3x3:function(b,c,d,e,f,g,h,i,j){a.isArray(arguments[0])?this.elements=arguments[0].slice(0,9):this.elements=Array.prototype.slice.call(arguments).slice(0,9);this.rows=3;this.cols=3}});var f={e:function(a,b){var c=this.rows,d=this.cols;return a>c||b>c||a<1||b<1?0:this.elements[(a-1)*d+b-1]},decompose:function(){var b=this.e(1,1),c=this.e(2,1),d=this.e(1,2),e=this.e(2,2),f=this.e(1,3),g=this.e(2,3);if(Math.abs(b*e-c*d)<.01)return{rotate:"0deg",skewX:"0deg",scaleX:1,scaleY:1,translateX:"0px",translateY:"0px"};var h=f,i=g,j=Math.sqrt(b*b+c*c);b/=j;c/=j;var k=b*d+c*e;d-=b*k;e-=c*k;var l=Math.sqrt(d*d+e*e);d/=l;e/=l;k/=l;if(b*e-c*d<0){b=-b;c=-c;j=-j}var m=a.angle.radianToDegree,n=m(Math.atan2(c,b));k=m(Math.atan(k));return{rotate:n+"deg",skewX:k+"deg",scaleX:j,scaleY:l,translateX:h+"px",translateY:i+"px"}}};a.extend(e.M2x2.prototype,f,{toM3x3:function(){var a=this.elements;return new e.M3x3(a[0],a[1],0,a[2],a[3],0,0,0,1)},x:function(a){var b=typeof a.rows=="undefined";if(!b&&a.rows==3)return this.toM3x3().x(a);var c=this.elements,d=a.elements;return b&&d.length==2?new e.V2(c[0]*d[0]+c[1]*d[1],c[2]*d[0]+c[3]*d[1]):d.length==c.length?new e.M2x2(c[0]*d[0]+c[1]*d[2],c[0]*d[1]+c[1]*d[3],c[2]*d[0]+c[3]*d[2],c[2]*d[1]+c[3]*d[3]):!1},inverse:function(){var a=1/this.determinant(),b=this.elements;return new e.M2x2(a*b[3],a*-b[1],a*-b[2],a*b[0])},determinant:function(){var a=this.elements;return a[0]*a[3]-a[1]*a[2]}});a.extend(e.M3x3.prototype,f,{x:function(a){var b=typeof a.rows=="undefined";!b&&a.rows<3&&(a=a.toM3x3());var c=this.elements,d=a.elements;return b&&d.length==3?new e.V3(c[0]*d[0]+c[1]*d[1]+c[2]*d[2],c[3]*d[0]+c[4]*d[1]+c[5]*d[2],c[6]*d[0]+c[7]*d[1]+c[8]*d[2]):d.length==c.length?new e.M3x3(c[0]*d[0]+c[1]*d[3]+c[2]*d[6],c[0]*d[1]+c[1]*d[4]+c[2]*d[7],c[0]*d[2]+c[1]*d[5]+c[2]*d[8],c[3]*d[0]+c[4]*d[3]+c[5]*d[6],c[3]*d[1]+c[4]*d[4]+c[5]*d[7],c[3]*d[2]+c[4]*d[5]+c[5]*d[8],c[6]*d[0]+c[7]*d[3]+c[8]*d[6],c[6]*d[1]+c[7]*d[4]+c[8]*d[7],c[6]*d[2]+c[7]*d[5]+c[8]*d[8]):!1},inverse:function(){var a=1/this.determinant(),b=this.elements;return new e.M3x3(a*(b[8]*b[4]-b[7]*b[5]),a*-(b[8]*b[1]-b[7]*b[2]),a*(b[5]*b[1]-b[4]*b[2]),a*-(b[8]*b[3]-b[6]*b[5]),a*(b[8]*b[0]-b[6]*b[2]),a*-(b[5]*b[0]-b[3]*b[2]),a*(b[7]*b[3]-b[6]*b[4]),a*-(b[7]*b[0]-b[6]*b[1]),a*(b[4]*b[0]-b[3]*b[1]))},determinant:function(){var a=this.elements;return a[0]*(a[8]*a[4]-a[7]*a[5])-a[3]*(a[8]*a[1]-a[7]*a[2])+a[6]*(a[5]*a[1]-a[4]*a[2])}});var g={e:function(a){return this.elements[a-1]}};a.extend(e.V2.prototype,g);a.extend(e.V3.prototype,g)})(jQuery,this,this.document);(function(a,b,c,d){typeof a.matrix=="undefined"&&a.extend({matrix:{}});a.extend(a.matrix,{calc:function(a,b,c){this.matrix=a;this.outerHeight=b;this.outerWidth=c}});a.matrix.calc.prototype={coord:function(b,c,d){d=typeof d!="undefined"?d:0;var e=this.matrix,f;switch(e.rows){case 2:f=e.x(new a.matrix.V2(b,c));break;case 3:f=e.x(new a.matrix.V3(b,c,d))}return f},corners:function(a,b){var c=typeof a=="undefined"&&typeof b=="undefined",d;if(!this.c||!c){b=b||this.outerHeight;a=a||this.outerWidth;d={tl:this.coord(0,0),bl:this.coord(0,b),tr:this.coord(a,0),br:this.coord(a,b)}}else d=this.c;c&&(this.c=d);return d},sides:function(a){var b=a||this.corners();return{top:Math.min(b.tl.e(2),b.tr.e(2),b.br.e(2),b.bl.e(2)),bottom:Math.max(b.tl.e(2),b.tr.e(2),b.br.e(2),b.bl.e(2)),left:Math.min(b.tl.e(1),b.tr.e(1),b.br.e(1),b.bl.e(1)),right:Math.max(b.tl.e(1),b.tr.e(1),b.br.e(1),b.bl.e(1))}},offset:function(a){var b=this.sides(a);return{height:Math.abs(b.bottom-b.top),width:Math.abs(b.right-b.left)}},area:function(a){var b=a||this.corners(),c={x:b.tr.e(1)-b.tl.e(1)+b.br.e(1)-b.bl.e(1),y:b.tr.e(2)-b.tl.e(2)+b.br.e(2)-b.bl.e(2)},d={x:b.bl.e(1)-b.tl.e(1)+b.br.e(1)-b.tr.e(1),y:b.bl.e(2)-b.tl.e(2)+b.br.e(2)-b.tr.e(2)};return.25*Math.abs(c.e(1)*d.e(2)-c.e(2)*d.e(1))},nonAffinity:function(){var a=this.sides(),b=a.top-a.bottom,c=a.left-a.right;return parseFloat(parseFloat(Math.abs((Math.pow(b,2)+Math.pow(c,2))/(a.top*a.bottom+a.left*a.right))).toFixed(8))},originOffset:function(b,c){b=b?b:new a.matrix.V2(this.outerWidth*.5,this.outerHeight*.5);c=c?c:new a.matrix.V2(0,0);var d=this.coord(b.e(1),b.e(2)),e=this.coord(c.e(1),c.e(2));return{top:e.e(2)-c.e(2)-(d.e(2)-b.e(2)),left:e.e(1)-c.e(1)-(d.e(1)-b.e(1))}}}})(jQuery,this,this.document);(function(a,b,c,d){typeof a.matrix=="undefined"&&a.extend({matrix:{}});var e=a.matrix,f=e.M2x2,g=e.M3x3;a.extend(e,{identity:function(a){a=a||2;var b=a*a,c=new Array(b),d=a+1;for(var f=0;f<b;f++)c[f]=f%d===0?1:0;return new e["M"+a+"x"+a](c)},matrix:function(){var a=Array.prototype.slice.call(arguments);switch(arguments.length){case 4:return new f(a[0],a[2],a[1],a[3]);case 6:return new g(a[0],a[2],a[4],a[1],a[3],a[5],0,0,1)}},reflect:function(){return new f(-1,0,0,-1)},reflectX:function(){return new f(1,0,0,-1)},reflectXY:function(){return new f(0,1,1,0)},reflectY:function(){return new f(-1,0,0,1)},rotate:function(b){var c=a.angle.degreeToRadian(b),d=Math.cos(c),e=Math.sin(c),g=d,h=e,i=-e,j=d;return new f(g,i,h,j)},scale:function(a,b){a=a||a===0?a:1;b=b||b===0?b:a;return new f(a,0,0,b)},scaleX:function(a){return e.scale(a,1)},scaleY:function(a){return e.scale(1,a)},skew:function(b,c){b=b||0;c=c||0;var d=a.angle.degreeToRadian(b),e=a.angle.degreeToRadian(c),g=Math.tan(d),h=Math.tan(e);return new f(1,g,h,1)},skewX:function(a){return e.skew(a)},skewY:function(a){return e.skew(0,a)},translate:function(a,b){a=a||0;b=b||0;return new g(1,0,a,0,1,b,0,0,1)},translateX:function(a){return e.translate(a)},translateY:function(a){return e.translate(0,a)}})})(jQuery,this,this.document);var a={el:null,controller:null,angle:0,startAngle:0,slicesCount:4,stepsCount:48,pointsCount:500,slices:Math.PI/2,steps:Math.PI/24,points:Math.PI/250,track_position:!1,curStep:0,curPoint:0,shutterDeg:20,shutterDirection:-1,chokeFactor:0,curState:"hours",handleEvent:function(b){switch(b.type){case"touchstart":b.preventDefault();a.rotateStart({x:b.originalEvent.touches[0].pageX,y:b.originalEvent.touches[0].pageY},b);break;case"touchmove":a.rotateMove({x:b.originalEvent.touches[0].pageX,y:b.originalEvent.touches[0].pageY},b);break;case"mousedown":a.rotateStart({x:b.pageX,y:b.pageY},b);break;case"mousemove":a.rotateMove({x:b.pageX,y:b.pageY},b);break;case"touchend":case"mouseup":a.rotateStop(b)}},init:function(b,c,d){this.el=c;this.controller=b;this.shutter=d;this.width=this.controller.width()/2;this.height=this.controller.height()/2;this.originX=this.controller.position().left+this.width/2;this.originY=this.controller.position().left/2;this.el[0].style.webkitTransitionDuration="0";this.controller.bind("touchstart touchmove touchend mousedown mousemove",this.handleEvent);$(document).bind("mouseup mousemove",a.handleEvent)},rotateStart:function(a,b){b.preventDefault();this.track_position=!0;this.el[0].style.webkitTransitionDuration="0";var c=a.x-this.originX,d=a.y-this.originY;this.startAngle=Math.atan2(d,c)-this.angle;this.startPoint=0;this.starDir=parseFloat(this.el.css("rotate"))*180/Math.PI>80?-1:1;this.initialShutter=25},rotateMove:function(b,c){if(!this.track_position)return!1;a.curStep!=this.getSegment("steps")&&CAAT.AudioManager.play("click");a.curStep=this.getSegment("steps");a.curPoint=this.getSegment("points");a.curSlice=this.getSegment("slices");var d=b.x-this.originX,e=b.y-this.originY;this.angle=Math.atan2(e,d)-this.startAngle;this.angleDeg=this.angle*180/Math.PI;if(this.angleDeg>-20&&this.angleDeg<120)this.el.css("rotate",this.angle+"rad");else{this.chokeFactor+=.01;this.angle=parseFloat(this.el.css("rotate"))}a.dragDirection=a.curPoint-a.startPoint;if(Math.abs(a.dragDirection)==1){if(a.curSlice){a.shutterDirection=1;a.changeState()}else{a.shutterDirection=-1;a.changeState()}a.shutterDeg+=(a.curPoint-a.startPoint)*a.shutterDirection*1.8;if(a.shutterDeg>=0&&a.shutterDeg<=21){this.shutter.css("display","block");a.shutter.find(".shutterInner").css("rotate",parseInt(a.shutterDeg)+"deg")}else a.shutterDeg>21&&a.shutter.hide()}a.startPoint=a.curPoint},rotateStop:function(b){this.track_position=!1;a.chokeFactor=0;this.shutter.find(".shutterInner").animate({rotate:"20deg"},250,function(){a.shutter.hide()});a.shutterDeg=20;a.startPoint=a.curPoint;if(this.angle%this.slices){this.angle=Math.round(this.angle/this.slices)*this.slices;this.el.animate({rotate:this.angle+"rad"},550);CAAT.AudioManager.play("click");setTimeout("CAAT.AudioManager.play('click')",250)}},getSegment:function(a){a=a||"slices";count=this[a+"Count"];var b=Math.floor(Math.abs(this.angle)/this[a]/count);this.angle<0&&(b=-b);b=Math.round(this.angle/this[a])-b*count;b<0&&(b=count+b);return b},changeState:function(){a.curState=a.curSlice?"days":"hours";aelios.toggleDayWeek(a.curState)}};$.extend($.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return $.easing[$.easing.def](a,b,c,d,e)},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInBack:function(a,b,c,d,e,f){f==undefined&&(f=1.70158);return d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){f==undefined&&(f=1.70158);return d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){f==undefined&&(f=1.70158);return(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c}});Avgrund=function(){function e(a){a.keyCode===27&&h()}function f(a){a.target===c&&h()}function g(c){document.addEventListener("keyup",e,!1);document.addEventListener("click",f,!1);k(b,d);j(b,"no-transition");j(b,c);setTimeout(function(){k(b,"no-transition");j(a,"avgrund-active")},0);d=c}function h(){document.removeEventListener("keyup",e,!1);document.removeEventListener("click",f,!1);k(a,"avgrund-active");k(b,"avgrund-popup-animate")}function i(){j(document.documentElement,"no-blur")}function j(a,b){a.className=a.className.replace(/\s+$/gi,"")+" "+b}function k(a,b){a.className=a.className.replace(b,"")}function l(a){b=document.querySelector(a);j(b,"avgrund-popup-animate");g();return this}function m(){h()}var a=document.documentElement,b=document.querySelector(".avgrund-popup-animate"),c=document.querySelector(".avgrund-cover"),d=null;a.className=a.className.replace(/\s+$/gi,"")+" avgrund-ready";return{activate:g,deactivate:h,disableBlur:i,show:l,hide:m}}();